(function(t){function i(i){for(var n,o,r=i[0],u=i[1],c=i[2],h=0,f=[];h<r.length;h++)o=r[h],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&f.push(s[o][0]),s[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(i);while(f.length)f.shift()();return a.push.apply(a,c||[]),e()}function e(){for(var t,i=0;i<a.length;i++){for(var e=a[i],n=!0,r=1;r<e.length;r++){var u=e[r];0!==s[u]&&(n=!1)}n&&(a.splice(i--,1),t=o(o.s=e[0]))}return t}var n={},s={app:0},a=[];function o(i){if(n[i])return n[i].exports;var e=n[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=n,o.d=function(t,i,e){o.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,i){if(1&i&&(t=o(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)o.d(e,n,function(i){return t[i]}.bind(null,n));return e},o.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(i,"a",i),i},o.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=i,r=r.slice();for(var c=0;c<r.length;c++)i(r[c]);var l=u;a.push([0,"chunk-vendors"]),e()})({0:function(t,i,e){t.exports=e("56d7")},"0526":function(t,i,e){},"133d":function(t,i,e){"use strict";var n=e("fda7"),s=e.n(n);s.a},"152f":function(t,i,e){"use strict";var n=e("3497"),s=e.n(n);s.a},3497:function(t,i,e){},"4dcb":function(t,i,e){},5026:function(t,i,e){"use strict";var n=e("e1af"),s=e.n(n);s.a},"56d7":function(t,i,e){"use strict";e.r(i);e("e260"),e("e6cf"),e("cca6"),e("a79d");var n=e("2b0e"),s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"app-main",class:{"show-game":t.isShowGame}},[e("SelectDifficulty",{staticClass:"app-section",on:{showGame:t.showGame}}),e("MineSweeper",{staticClass:"app-section",attrs:{play:t.isShowGame,width:t.width,height:t.height,"mine-count":t.mineCount},on:{selectDifficulty:t.selectDifficulty}})],1)])},a=[],o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"select-difficulty"},[e("div",{staticClass:"select-difficulty-container",class:{"show-customize":t.isShowCustomize}},[e("div",{staticClass:"select-difficulty-section"},[e("div",{staticClass:"select-difficulty-row"},[e("div",{staticClass:"select-difficulty-item",on:{click:function(i){return t.$emit("showGame",8,8,10)}}},[e("div",[t._v("8 x 8")]),e("div",[t._v("10 个雷")])]),e("div",{staticClass:"select-difficulty-item",on:{click:function(i){return t.$emit("showGame",16,16,40)}}},[e("div",[t._v("16 x 16")]),e("div",[t._v("40 个雷")])])]),e("div",{staticClass:"select-difficulty-row"},[e("div",{staticClass:"select-difficulty-item",on:{click:function(i){return t.$emit("showGame",30,16,99)}}},[e("div",[t._v("30 x 16")]),e("div",[t._v("99 个雷")])]),e("div",{staticClass:"select-difficulty-item",on:{click:function(i){t.isShowCustomize=!0}}},[e("div",[t._v("?")]),e("div",[t._v("自定义")])])])]),e("div",{staticClass:"select-difficulty-section"},[e("div",[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[t._v(" 宽度 ")]),e("MineSweeperInputNumber",{staticClass:"form-content",attrs:{max:50,min:1},model:{value:t.width,callback:function(i){t.width=i},expression:"width"}})],1),e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[t._v(" 高度 ")]),e("MineSweeperInputNumber",{staticClass:"form-content",attrs:{max:50,min:1},model:{value:t.height,callback:function(i){t.height=i},expression:"height"}})],1),e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[t._v(" 雷数 ")]),e("MineSweeperInputNumber",{staticClass:"form-content",attrs:{max:t.width*t.height,min:1},model:{value:t.mineCount,callback:function(i){t.mineCount=i},expression:"mineCount"}})],1),e("div",{staticClass:"form-group"},[e("button",{staticClass:"mine-sweeper-button",on:{click:function(i){return t.$emit("showGame",t.width,t.height,t.mineCount)}}},[t._v(" 玩游戏 ")])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"mine-sweeper-button",on:{click:function(i){t.isShowCustomize=!1}}},[t._v(" 取消 ")])])])])])])},r=[],u=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"input-group"},[e("div",{staticClass:"input-group-addon",on:{click:t.doMinus}},[t._v(" - ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],ref:"input",staticClass:"form-control",domProps:{value:t.model},on:{input:function(i){i.target.composing||(t.model=i.target.value)}}}),e("div",{staticClass:"input-group-addon",on:{click:t.doPlus}},[t._v(" + ")])])},c=[],l=(e("a9e3"),e("8ba4"),e("9129"),{props:{value:{type:Number,required:!0},min:{type:Number,default:-1/0},max:{type:Number,default:1/0},step:{type:Number,default:1}},computed:{model:{get:function(){return this.value},set:function(t){var i=Number(t);Number.isNaN(i)||!Number.isInteger(i)||i>this.max||i<this.min?this.$refs.input.value=this.value:this.$emit("input",i)}}},watch:{min:"handleMinMaxChange",max:"handleMinMaxChange"},methods:{doMinus:function(){this.model=this.value-this.step},doPlus:function(){this.model=this.value+this.step},handleMinMaxChange:function(){this.value>this.max&&(this.model=this.max),this.value<this.min&&(this.model=this.min)}}}),h=l,f=(e("133d"),e("2877")),d=Object(f["a"])(h,u,c,!1,null,"273fbf08",null),m=d.exports,p={name:"SelectDifficulty",components:{MineSweeperInputNumber:m},data:function(){return{isShowCustomize:!1,width:30,height:16,mineCount:99}}},v=p,w=(e("5026"),Object(f["a"])(v,o,r,!1,null,"b877b58e",null)),C=w.exports,b=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"game-container"},[e("div",{staticClass:"mine-sweeper-container",on:{contextmenu:function(t){t.preventDefault()}}},t._l(t.height,(function(i){return e("div",{key:i,staticClass:"mine-sweeper-row"},t._l(t.width,(function(n){return e("div",{key:n,staticClass:"mine-sweeper-item",class:{"is-open":t.openStatus[(i-1)*t.width+n-1]},on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.handleLeftClick(i-1,n-1)},contextmenu:function(e){return t.handleRightClick(i-1,n-1)}}},[1===t.markStatus[(i-1)*t.width+(n-1)]?e("span",{staticClass:"iconfont"},[t._v("")]):2===t.markStatus[(i-1)*t.width+(n-1)]?e("span",{staticClass:"iconfont"},[t._v("")]):t.openStatus[(i-1)*t.width+(n-1)]?[t.mines[(i-1)*t.width+(n-1)]?e("span",{staticClass:"iconfont"},[t._v("")]):t.neighbourMineCount[(i-1)*t.width+(n-1)]>0?e("span",[t._v(" "+t._s(t.neighbourMineCount[(i-1)*t.width+(n-1)])+" ")]):t._e()]:t._e()],2)})),0)})),0),e("div",{staticClass:"panel-container"},[e("div",{staticClass:"panel-data-container"},[e("span",{staticClass:"iconfont",staticStyle:{"font-size":"60px"}},[t._v("")]),e("div",[t._v(" "+t._s(t.selectedMineCount)+" / "+t._s(t.mineCount)+" ")])]),e("div",[e("button",{staticClass:"mine-sweeper-button",on:{click:t.reStart}},[t._v(" 重开一局 ")]),e("button",{staticClass:"mine-sweeper-button",staticStyle:{"margin-top":"15px"},on:{click:function(i){return t.$emit("selectDifficulty")}}},[t._v(" 改变难度 ")])])])])},y=[];e("a623"),e("cb29"),e("a434");function g(t,i){for(var e=i;e<t.length;e++){var n=Math.floor(Math.random()*(e+1)),s=t[n];t[n]=t[e],t[e]=s}}var S={props:{play:{type:Boolean,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},mineCount:{type:Number,required:!0}},data:function(){return{isEnd:!1,mines:[],openStatus:[],markStatus:[],selectedMineCount:0}},computed:{neighbourMineCount:function(){for(var t=new Array(this.width*this.height).fill(0),i=0;i<t.length;i++)if(this.mines[i])for(var e=i%this.width,n=(i-e)/this.width,s=-1;s<2;s++){var a=n+s;if(!(a<0||a===this.height))for(var o=-1;o<2;o++){var r=e+o;r<0||r===this.width||t[a*this.width+r]++}}return t}},watch:{play:function(){this.play&&this.init(this.width,this.height,this.mineCount)},selectedMineCount:function(){var t=this;if(this.selectedMineCount===this.mineCount){var i=this.mines.every((function(i,e){return!!(i&&1===t.markStatus[e]||!i&&1!==t.markStatus[e])}));i&&(this.$nextTick((function(){alert("win")})),this.isEnd=!0)}}},methods:{reStart:function(){this.init(this.width,this.height,this.mineCount)},init:function(t,i,e){this.isEnd=!1;for(var n=t*i,s=new Array(n).fill(0),a=0;a<e;a++)s[a]=1;g(s,e),this.mines=s,this.openStatus=new Array(n).fill(0),this.markStatus=new Array(n).fill(0),this.selectedMineCount=0},handleLeftClick:function(t,i){if(!this.isEnd){var e=t*this.width+i;if(1!==this.openStatus[e]&&1!==this.markStatus[e])return this.mines[e]?(this.openStatus.splice(e,1,1),this.isEnd=!0,void this.$nextTick((function(){alert("mine")}))):void(this.neighbourMineCount[e]>0?this.openStatus.splice(e,1,1):this.floodfill(t,i))}},floodfill:function(t,i){if(!(t<0||i<0||t===this.height||i===this.width)){var e=t*this.width+i;if(1!==this.openStatus[e]&&(this.openStatus.splice(e,1,1),!(this.neighbourMineCount[e]>0)))for(var n=-1;n<2;n++)for(var s=-1;s<2;s++)this.floodfill(t+n,i+s)}},handleRightClick:function(t,i){if(!this.isEnd){var e=t*this.width+i;1!==this.openStatus[e]&&(this.markStatus.splice(e,1,(this.markStatus[e]+1)%3),1===this.markStatus[e]?this.selectedMineCount++:2===this.markStatus[e]&&this.selectedMineCount--)}}}},_=S,k=(e("72f7"),Object(f["a"])(_,b,y,!1,null,"3be01cce",null)),x=k.exports,M={name:"App",components:{SelectDifficulty:C,MineSweeper:x},data:function(){return{isShowGame:!1,width:0,height:0,mineCount:0}},methods:{showGame:function(t,i,e){this.width=t,this.height=i,this.mineCount=e,this.isShowGame=!0},selectDifficulty:function(){this.isShowGame=!1}}},N=M,O=(e("152f"),Object(f["a"])(N,s,a,!1,null,"3d55f556",null)),$=O.exports;e("4dcb");n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t($)}}).$mount("#app")},"72f7":function(t,i,e){"use strict";var n=e("0526"),s=e.n(n);s.a},e1af:function(t,i,e){},fda7:function(t,i,e){}});
//# sourceMappingURL=app.0f3fc7cb.js.map